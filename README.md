<p align="center">
<img src="https://i.imgur.com/MfpKooW.png" width="240" alt=""/>
</p>

# Проект передачи данных о вагонах поездов

### Цель проекта:

Просканировать QR Code в котором в текстовом формате заданы
записи вида

```
Москва = 7
Волгоград = 6
Минск = 21
Нижний Новгород = 3
```

Далее преобразовать данные записи к словарю Python.\
Далее передать через сеть данные на сервер чтобы они могли быть в дальнейшем обработаны.
Данные представляют собой город, в который должны быть отправлены вагоны и количество этих вагонов.

### Возможности:

Клиентскую часть необходимо запускать через файл _**client.py**_\
Серверную часть необходимо запускать через файл _**server.py**_\
На выбор 2 возможных опции работы клиентской части:

1) **Создание QR Code изображения из данных.** Важно отметить, что данные должны соответствовать шаблону.
   Т.е. `Город = количество` на одной строке. В противном случаи строка не будет добавлена в QR Code и будет пропущена.
   Запрашивается имя файла с данными (это должен быть текстовый файл), затем запрашивается путь и имя файла в который
   следует сохранить qr code изображение. Корректный ввод данных как пример: F:\Data.txt и для изображения - F:
   \QR_Code.png
2) **Передача данных из QRCode на сервер.** Важно отметить что данные передаются в зашифрованном виде с
   помощью AES шифрования. Ключ прописывается в config.py файле. В конфиг файле необходимо задать ип и порт у клиента и
   сервера. На сервере следует запустить server.py файл для работы. На клиенте выбрав вторую опцию нужно указать путь к
   файлу с QR Code изображением. Далее клиент передаст зашифрованные данные в json на сервер. Сервер их расшифрует и они
   готовы дальше к использованию =)
3) **Передача команды на завершение работы программы на сервере.** Передает последовательность завершения работы
   программы на сервер. Получая данную последовательность серверная часть программы на сервере завершает выполнение.

Серверная часть не имеет опций и работает всегда в 1 режиме.
В нем она ждет передачи данных, после приема очередной законченной порции данных - выводит в консоль полученный словарь
с данными.

Большинство возможных ошибок, вроде если сервер упал или нет коннекта, не так введен файл, не те данные в файле -
отлавливаются.

### TODO

1. [X] Добавить сессионное шифрование на основе AES.EAX nonce.
2. [X] Возможность выключать серверную часть с клиента
3. [ ] ...